<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ASYLUM FOG // LO-FI ANGELS</title>
  <link rel="icon" href="data:,">
  <link rel="stylesheet" href="./styles.css">
</head>
<body>
  <div id="wrap">
    <canvas id="c"></canvas>
    <div id="crt"></div>

    <!-- HUD -->
    <div id="hud" class="hud hidden">
      <div class="hudLeft">
        <div class="label">Integrity</div>
        <div class="bar"><div id="hpFill" class="fill danger"></div></div>

        <div class="label">Sanity</div>
        <div class="bar"><div id="sanFill" class="fill accent"></div></div>

        <div class="label" id="weaponLabel">Weapon: —</div>
      </div>

      <div class="hudRight">
        <div class="label" id="depthLabel">DEPTH: 0m</div>
        <div class="label dim" id="modeLabel">ATMOSPHERE</div>
        <div class="label dim" id="hintLabel"></div>
      </div>
    </div>

    <!-- MENU -->
    <div id="menu" class="overlay">
      <div class="panel">
        <h1>ASYLUM FOG <span>// no_build_vanilla</span></h1>
        <p class="help">
          Retro run-and-gun inside an asylum that’s “still operating” in the fog.<br>
          NPCs are deranged and ambiguous: <b>friend</b>, <b>predator</b>, or both.<br>
          <span class="dangerText">Rule:</span> shooting <b>Patient 07</b> (the green child) causes an immediate <b>Bad Ending</b>.
        </p>

        <div class="grid">
          <div>
            <label>Identity</label>
            <input id="nameInput" type="text" maxlength="18" value="SEEKER" placeholder="ENTER NAME">
            <div class="help">
              <span class="kbd">WASD</span> move/jump · <span class="kbd">Mouse</span> aim · <span class="kbd">Click</span> shoot ·
              <span class="kbd">E</span> interact · <span class="kbd">1-3</span> swap weapons
            </div>

            <div class="row">
              <button id="loadSpritesBtn" class="btn secondary" type="button">Load Sprite Sheets (PNG)</button>
              <input id="spriteFiles" type="file" accept="image/png" multiple hidden>
              <span class="pill"><span id="assetDot" class="dot warn"></span><span id="assetText">Sprites: procedural placeholders</span></span>
            </div>

            <div class="help">
              Optional: add PNG sprite sheets in <b>/assets/</b> or upload here at runtime.<br>
              Naming recommended (each is a sprite sheet):<br>
              <span class="monoSmall">
player.png, angel.png, nurse.png, patient.png, child.png, chest.png, note.png, boss1.png, boss2.png
              </span>
            </div>
          </div>

          <div>
            <label>Class</label>
            <div class="avatars">
              <button class="avi sel" data-avi="0">
                <b>Vanguard</b><small>Rifle · stable · balanced</small>
              </button>
              <button class="avi" data-avi="1">
                <b>Occultist</b><small>Needle · pierce · higher sanity</small>
              </button>
              <button class="avi" data-avi="2">
                <b>Heavy</b><small>Scatter · brutal · higher HP</small>
              </button>
            </div>

            <label style="margin-top:12px;">Settings</label>
            <div class="settings">
              <label class="chk">
                <input id="toggleConfusion" type="checkbox">
                <span>Allow “Confusion” control-inversion effects (off by default)</span>
              </label>
              <label class="chk">
                <input id="toggleFaces" type="checkbox" checked>
                <span>Allow face-flash hallucinations</span>
              </label>
              <label class="chk">
                <input id="toggleHardAudio" type="checkbox" checked>
                <span>More abrasive audio</span>
              </label>
            </div>

            <button id="startBtn" class="btn primary">INITIATE</button>
            <p class="help dim">
              Audio starts on INITIATE (browser gesture requirement). No external files.
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- DIALOGUE / MORAL DILEMMA -->
    <div id="dialogue" class="overlay hidden">
      <div class="panel dialoguePanel">
        <div class="dialogueTop">
          <h2 id="dlgTitle">—</h2>
          <div id="dlgSub" class="dim small">—</div>
        </div>
        <div id="dlgBody" class="mono"></div>
        <div id="dlgChoices" class="choices"></div>
        <div class="help dim">Click a choice or press 1–4.</div>
      </div>
    </div>

    <!-- GAME OVER -->
    <div id="over" class="overlay hidden">
      <div class="panel center">
        <h1 id="overTitle" class="dangerText">SIGNAL LOST</h1>
        <div id="overBody" class="mono centerMono"></div>
        <div class="row" style="justify-content:center; margin-top:14px;">
          <button id="retryBtn" class="btn primary">REBOOT RUN</button>
          <button id="menuBtn" class="btn secondary">BACK TO MENU</button>
        </div>
      </div>
    </div>
  </div>

  <script src="./game.js"></script>
</body>
</html>



