:root{
  --bg:#020202;
  --panel:#0d0d13;
  --text:#a7a7b4;
  --accent:#7d3cff;
  --danger:#ff2a2a;
  --ok:#43ff9b;
  --line:#2a2a3a;
  --light:#e9e9f2;
}
html,body{
  height:100%; margin:0; background:var(--bg); color:var(--text);
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;
  overflow:hidden;
}
#wrap{position:fixed; inset:0;}
canvas{position:absolute; inset:0; width:100%; height:100%; display:block; image-rendering:pixelated; background:#050505;}

#crt{
  position:absolute; inset:0; pointer-events:none; z-index:10;
  background:
    linear-gradient(rgba(18,16,16,0) 50%, rgba(0,0,0,0.28) 50%),
    linear-gradient(90deg, rgba(255,0,0,0.06), rgba(0,255,0,0.02), rgba(0,0,255,0.06));
  background-size: 100% 2px, 3px 100%;
  box-shadow: inset 0 0 90px rgba(0,0,0,0.75);
  mix-blend-mode: screen;
  opacity: 0.92;
}

.hidden{display:none !important;}
.overlay{
  position:absolute; inset:0; display:grid; place-items:center;
  z-index:20; background: rgba(0,0,0,0.86);
}
.panel{
  width:min(980px, 92vw);
  background:var(--panel); border:1px solid var(--line);
  box-shadow:0 0 26px #000;
  padding:20px; border-radius:14px; position:relative;
}
.panel::before{
  content:""; position:absolute; top:-1px; left:12px; right:12px; height:1px;
  background:var(--accent); box-shadow:0 0 12px color-mix(in srgb, var(--accent), transparent 50%);
}
h1{
  margin:0 0 10px 0; font-size:22px; color:var(--light);
  text-transform:uppercase; letter-spacing:3px; text-shadow:0 0 10px var(--accent);
}
h1 span{ font-size:12px; color:#676776; letter-spacing:1px; }
h2{ margin:0; color:var(--light); letter-spacing:0.06em; }
label{font-size:12px; color:#6e6e7d; letter-spacing:0.05em; text-transform:uppercase;}
.help{ margin-top:10px; font-size:12px; line-height:1.55; color:#7c7c8d; }
.dim{ color:#777; }
.small{ font-size:12px; }
.dangerText{ color:var(--danger); }

.grid{ display:grid; grid-template-columns: 1.1fr 1fr; gap:18px; margin-top:12px; }
@media (max-width:860px){ .grid{grid-template-columns:1fr;} }

input[type="text"]{
  width:100%; box-sizing:border-box; background:#000; border:1px solid #444;
  color:#fff; padding:12px; outline:none; border-radius:10px; margin-top:6px;
}
input[type="text"]:focus{ border-color:var(--accent); box-shadow:0 0 0 3px #7d3cff22; }

.row{display:flex; gap:10px; align-items:center; flex-wrap:wrap; margin-top:10px;}
.kbd{ border:1px solid #444; padding:2px 6px; border-radius:6px; color:#fff; background:#141417; font-weight:800; }

.btn{
  background:#000; color:var(--light); border:1px solid #444;
  padding:10px 14px; font-weight:900; cursor:pointer;
  text-transform:uppercase; letter-spacing:0.06em; border-radius:12px;
  transition:0.18s;
}
.btn:hover{ transform:translateY(-1px); }
.btn.primary{
  width:100%; margin-top:14px;
  border-color: var(--accent);
  box-shadow:0 0 16px #7d3cff55;
}
.btn.primary:hover{ background:var(--accent); }
.btn.secondary{ color:#888; border-color:#333; }
.btn.secondary:hover{ background:#1a1a1f; border-color:#666; color:#fff; box-shadow:none; }

.avatars{ display:grid; grid-template-columns:repeat(3,1fr); gap:10px; margin-top:6px;}
.avi{
  border:1px solid #333; border-radius:12px; background:#050509; color:#bbb;
  padding:10px; cursor:pointer; opacity:0.72; text-align:left;
}
.avi:hover{ opacity:1; border-color:#666; }
.avi.sel{ opacity:1; border-color:var(--accent); background:#120a1e; box-shadow:0 0 0 3px #7d3cff22; }
.avi b{ color:#fff; display:block; margin-bottom:4px; font-size:13px; }
.avi small{ color:#8b8b96; font-size:11px; }

.settings{ margin-top:8px; display:grid; gap:8px; }
.chk{ display:flex; gap:10px; align-items:flex-start; font-size:12px; color:#9a9aaa; }
.chk input{ margin-top:3px; }

.pill{
  display:inline-flex; gap:8px; align-items:center;
  border:1px solid #333; background:#07070c;
  padding:8px 10px; border-radius:999px; color:#bbb; font-size:12px;
}
.dot{width:8px; height:8px; border-radius:50%; background:#555; box-shadow:0 0 10px #000;}
.dot.ok{background:var(--ok); box-shadow:0 0 12px #43ff9b55;}
.dot.warn{background:#ffb24a; box-shadow:0 0 12px #ffb24a55;}
.dot.bad{background:var(--danger); box-shadow:0 0 12px #ff2a2a55;}

.mono{
  white-space:pre-wrap; font-size:13px; line-height:1.65;
  color:#ddd; border-left:2px solid var(--accent); padding-left:14px; margin-top:10px;
}
.monoSmall{ font-size:11px; color:#9a9aaa; white-space:pre-wrap; }
.center{ text-align:center; }
.centerMono{ border:none; padding-left:0; }

.dialoguePanel{ width:min(820px, 92vw); }
.dialogueTop{ display:flex; justify-content:space-between; gap:14px; align-items:baseline; }
.choices{ display:grid; gap:10px; margin-top:14px; }
.choiceBtn{
  text-align:left; background:#000; border:1px solid #333; border-radius:12px;
  padding:10px 12px; color:#ddd; cursor:pointer;
}
.choiceBtn:hover{ border-color:var(--accent); box-shadow:0 0 14px #7d3cff33; }
.choiceBtn b{ color:#fff; }
.choiceBtn small{ display:block; color:#8b8b96; margin-top:4px; }

.hud{
  position:absolute; z-index:15; top:16px; left:16px; right:16px;
  display:flex; justify-content:space-between; gap:10px;
  mix-blend-mode:difference; pointer-events:none;
}
.label{ font-size:10px; color:#fff; font-weight:900; text-transform:uppercase; letter-spacing:1px; }
.bar{ height:5px; width:150px; background:#222; border:1px solid #333; border-radius:999px; overflow:hidden; margin:6px 0 10px;}
.fill{ height:100%; width:100%; transition:width 0.12s linear; }
.fill.danger{ background:var(--danger); }
.fill.accent{ background:var(--accent); }
.hudLeft{ display:flex; flex-direction:column; gap:0px; }
.hudRight{ display:flex; flex-direction:column; align-items:flex-end; gap:6px; }
